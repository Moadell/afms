(this.webpackJsonpafms=this.webpackJsonpafms||[]).push([[0],{101:function(e,t,a){},102:function(e,t,a){},104:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){},113:function(e,t,a){},114:function(e,t,a){},115:function(e,t,a){},119:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(42),s=a.n(l),c=(a(73),a(20)),i=(a(74),a(2)),o=a(15),m=a(3),u=a.n(m),d=a(17),h=a(4),p=a(8),g=a(9),E=a(11),f=a(10),v=function(e){var t=!0;return Object.values(e).forEach((function(e){return e.length>0&&(t=!1)})),t},b=RegExp(/\S+@\S+\.\S+/),N=a(23),y=a.n(N),w=(a(93),Object(r.createContext)({isLoggedIn:!1,userId:null,token:null,login:function(){},logout:function(){}})),k=function(e){Object(E.a)(a,e);var t=Object(f.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"text-center spinner"},n.a.createElement("div",{className:"spinner-border",role:"status"},n.a.createElement("span",{className:"sr-only"},"Loading...")),n.a.createElement("h4",null," Please Wait ..."))}}]),a}(r.Component),x=function(e){Object(E.a)(a,e);var t=Object(f.a)(a);function a(e){var r;return Object(p.a)(this,a),(r=t.call(this,e)).mySubmitHandler=function(e){r.setState((function(e){return{isloading:!0}}));var t=r.context;e.preventDefault(),v(r.state.errors),r.state.isLoginMode?u.a.post("/user/login/",r.state.user).then((function(e){return r.setState((function(e){return{isloading:!1}})),r.props.history.push("/"),t.login(e.data.userId,e.data.token),"success"})).catch((function(e){r.setState({isloading:!1,error:Object(h.a)(Object(h.a)({},r.state.error),{},{message:e.response.data.message,code:e.response.status})})})):(r.setState((function(e){return{isloading:!0}})),u.a.post("/user/signup",r.state.user).then((function(e){r.setState((function(e){return{isloading:!1,isLoginMode:!e.isLoginMode}}))})).catch((function(e){r.setState({error:!0})}))),r.setState({user:Object(h.a)(Object(h.a)({},r.state.user),{},{email:"",password:""})})},r.myChangeHandler=function(e){var t=e.target.name,a=e.target.value,n=r.state.errors,l=e.target,s=l.name,c=l.value;switch(s){case"email":if(0===c.length){n.email=c.length<5?"Email is Required!":"";break}if(c.length>0){n.email=b.test(c)?"":"Email is not valid!";break}break;case"password":c.length>0&&(n.password=c.length<3?"Password must be 6 characters long!":""),0===c.length&&(n.password=0===c.length?"Password is required!":"")}r.setState({errors:n,user:Object(h.a)(Object(h.a)({},r.state.user),{},Object(d.a)({},t,a))},(function(){}))},r.switchLoginhandler=function(){r.setState((function(e){return{isLoginMode:!e.isLoginMode}}))},r.state={user:{email:"",password:""},error:{message:"",code:""},isloading:!1,isLoginMode:!0,errors:{email:"",password:""}},r}return Object(g.a)(a,[{key:"render",value:function(){var e,t;return this.state.isloading&&(e=n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"container loading"},n.a.createElement("div",{className:"mar-20"},n.a.createElement(k,null))))),this.state.error.code&&(t=n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"container error container-short"},n.a.createElement("div",{className:"mar-20"},n.a.createElement("h5",null,"Error"),n.a.createElement("h4",null,this.state.error.message),n.a.createElement("br",null))))),n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"container container-short py-5"},n.a.createElement("div",{className:"split left"},n.a.createElement("div",{className:"centered img"},n.a.createElement("img",{src:y.a,alt:"AFMS Logo",style:{height:"80vh"}}))),n.a.createElement("div",{className:"split right"},n.a.createElement("div",{className:"centered"},e,n.a.createElement("h1",{className:"pt-2 py-2"},this.state.isLoginMode?"Login ":"Sign Up"),n.a.createElement("hr",null),n.a.createElement("form",{onSubmit:this.mySubmitHandler,className:"pt-4"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"email"},"Email "),n.a.createElement("input",{type:"email",name:"email",value:this.state.user.email,className:"form-control "+(this.state.errors.email?"is-invalid":""),placeholder:"Enter your email",required:!0,onChange:this.myChangeHandler}),this.state.errors.email.length>0&&n.a.createElement("div",{className:"mt-1"},n.a.createElement("span",{className:"error text-danger"},this.state.errors.email))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"password"},"Password "),n.a.createElement("input",{type:"password",name:"password",value:this.state.user.password,className:"form-control "+(this.state.errors.password?"is-invalid":""),placeholder:"Enter your Password",required:"required","data-error":"Please enter your full name.",onChange:this.myChangeHandler}),this.state.errors.password.length>0&&n.a.createElement("div",{className:"mt-1"}," ",n.a.createElement("span",{className:"error text-danger"},this.state.errors.password))),t,n.a.createElement("div",{className:"form-group"},n.a.createElement("button",{style:{marginRight:"15px"},type:"submit",className:"btn btn-success",disabled:this.state.user.email&&this.state.user.password&&v(this.state.errors)?"":"disabled"},this.state.isLoginMode?"Login":"Sign Up"),n.a.createElement("button",{type:"button",className:"btn btn-success",onClick:this.switchLoginhandler},"Switch to ",this.state.isLoginMode?"Sign Up":"Login"," ")))))))}}]),a}(r.Component);x.contextType=w;var S=Object(i.h)(x),O=a(44),j=a.n(O),D=a(45),C=a.n(D),L=a(46),R=a.n(L),F=a(47),_=a.n(F),I=a(48),A=a.n(I),P=a(49),T=a.n(P);var q=function(){return n.a.createElement("div",{className:"mobile-only"},n.a.createElement("div",{className:"footer-icons"},n.a.createElement("ul",{className:"navbar-nav "},n.a.createElement("li",{className:"nav-item inline-block"},n.a.createElement("a",{href:"https://www.facebook.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",className:"nav-link"},n.a.createElement("i",{className:"fa fa-facebook"}))),n.a.createElement("li",{className:"nav-item inline-block"},n.a.createElement("a",{href:"https://www.instagram.com","aria-label":"Insagram",target:"_blank",rel:"noopener noreferrer",className:"nav-link"},n.a.createElement("i",{className:"fa fa-instagram"}))),n.a.createElement("li",{className:"nav-item inline-block"},n.a.createElement("a",{href:"https://www.linkedin.com",target:"_blank",rel:"noopener noreferrer","aria-label":"LinkedIn",className:"nav-link"},n.a.createElement("i",{className:"fa fa-linkedin"}))))))};a(101);var H=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("footer",{className:"fadeInUp col-md-12"},n.a.createElement(q,null)),n.a.createElement("h5",{className:"text-center copyright"}," \xa9 developed by AFMS"))},M=(a(102),a(50)),U=a.n(M),B=(a(103),a(123));U.a.init();var z=function(e){Object(E.a)(a,e);var t=Object(f.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{class:"myDiv"},n.a.createElement("div",{class:"bg"}),n.a.createElement("div",{class:"typewriter"},n.a.createElement("h1",{class:"h1"},"Welcome to ..")),n.a.createElement("img",{src:y.a,class:"img",alt:"img"})),n.a.createElement("div",null,n.a.createElement("div",{id:"why","data-aos":"fade-up","data-aos-offset":"200","data-aos-delay":"30","data-aos-duration":"1000","data-aos-easing":"ease-in-out","data-aos-mirror":"true","data-aos-once":"true","data-aos-anchor-placement":"top-center",className:"container hero",style:{height:"100vh"}},n.a.createElement("div",{class:"titlee1"},"Why AFMS ?"),n.a.createElement("div",{className:"row align-items-center text-center text-md-left",style:{height:"100%"}},n.a.createElement("div",{className:"col-lg-4"},n.a.createElement(B.a,{border:"success",style:{width:"25rem","align-items":"center"}},n.a.createElement(B.a.Img,{variant:"top",src:R.a,style:{width:"64px",height:"64px",marginTop:"5px"}}),n.a.createElement(B.a.Body,{style:{"text-align":"center"}},n.a.createElement(B.a.Title,{style:{color:"green",width:"100%"}},"YOUR PERSONAL FIELD ASSISSTANCE"),n.a.createElement(B.a.Text,{style:{color:"black",width:"90%"}},"Between your hands.")))),n.a.createElement("div",{className:"col-lg-4"},n.a.createElement(B.a,{border:"success",style:{width:"25rem","align-items":"center"}},n.a.createElement(B.a.Img,{variant:"top",src:_.a,style:{width:"64px",height:"64px",marginTop:"5px"}}),n.a.createElement(B.a.Body,{style:{"text-align":"center"}},n.a.createElement(B.a.Title,{style:{color:"green",width:"100%"}},"USER FRIENDLY INTERFACE"),n.a.createElement(B.a.Text,{style:{color:"black",width:"90%"}},"Four clicks away from your data.")))),n.a.createElement("div",{className:"col-lg-4"},n.a.createElement(B.a,{border:"success",style:{width:"27rem","align-items":"center"}},n.a.createElement(B.a.Img,{variant:"top",src:A.a,style:{width:"64px",height:"64px",marginTop:"5px"}}),n.a.createElement(B.a.Body,{style:{"text-align":"center"}},n.a.createElement(B.a.Title,{style:{color:"green",width:"100%"}},"CREATING AGRICULTURAL COMMUNITY"),n.a.createElement(B.a.Text,{style:{color:"black",width:"90%"}},"All you want in one place."))))),n.a.createElement("hr",{class:"hr"})),n.a.createElement("h1",{class:"titlee1"},"Amazing Features"),n.a.createElement("div",{id:"why1","data-aos":"fade-right","data-aos-offset":"200","data-aos-delay":"30","data-aos-duration":"1000","data-aos-easing":"ease-in-out","data-aos-mirror":"true","data-aos-once":"true","data-aos-anchor-placement":"top-center",className:"container hero",style:{height:"100vh"}},n.a.createElement("div",{className:"row align-items-center text-center text-md-left"},n.a.createElement("div",{className:"col-lg-4"},n.a.createElement("h1",{className:"mb-3 display-3",style:{color:"green"}},"Connecting Community"),n.a.createElement("p",{style:{color:"black",width:"90%"}},"Through AFMS you can easily connect with your community and communicate seamlessly.")),n.a.createElement("div",{className:"col-lg-8"},n.a.createElement("img",{src:C.a,className:"img-fluid",alt:"img",style:{"padding-left":"20vw"}}))),n.a.createElement("hr",{class:"hr1"})),n.a.createElement("div",{id:"why2","data-aos":"fade-left","data-aos-offset":"200","data-aos-delay":"10","data-aos-duration":"1000","data-aos-easing":"ease-in-out","data-aos-mirror":"true","data-aos-once":"true","data-aos-anchor-placement":"top-center",className:"container hero",style:{height:"100vh"}},n.a.createElement("div",{className:"row align-items-center text-center text-md-left"},n.a.createElement("div",{className:"col-lg-8"},n.a.createElement("img",{src:T.a,className:"img-fluid",alt:"img"})),n.a.createElement("div",{className:"col-lg-4"},n.a.createElement("h1",{className:"mb-3 display-3",style:{color:"green"}},"PERSONALIZED FEATURES"),n.a.createElement("p",{style:{color:"black",width:"90%"}},"Customized Sensing and communicating options."))),n.a.createElement("hr",{class:"hr1"})),n.a.createElement("div",{id:"why3","data-aos":"fade-right","data-aos-offset":"200","data-aos-delay":"10","data-aos-duration":"1000","data-aos-easing":"ease-in-out","data-aos-mirror":"true","data-aos-once":"true","data-aos-anchor-placement":"top-center",className:"container hero",style:{height:"100vh"}},n.a.createElement("div",{className:"row align-items-center text-center text-md-left"},n.a.createElement("div",{className:"col-lg-4"},n.a.createElement("h1",{className:"mb-3 display-3",style:{color:"green"}},"Smart Agriculture"),n.a.createElement("p",{style:{color:"black",width:"90%"}},"In order to increase crop production, increase productivity and decrease the use of agricultural inputs, precision agriculture is about controlling variations in the region.")),n.a.createElement("div",{className:"col-lg-8"},n.a.createElement("img",{src:j.a,className:"img-fluid",alt:"img",style:{"padding-left":"20vw"}}))),n.a.createElement("hr",{class:"hr1"})),n.a.createElement(H,null)))}}]),a}(r.Component),W=(a(104),function(e){return n.a.createElement("div",{className:"backdrop",onClick:e.onClick})}),J=(a(105),function(e){return n.a.createElement("header",{className:"main-header"},e.children)}),Y=(a(106),function(e){var t=Object(i.g)(),a=Object(r.useContext)(w);return n.a.createElement("ul",{className:"nav-links"},n.a.createElement("li",null,n.a.createElement("a",{href:"https://afmsagr.wordpress.com/",target:"_blank",rel:"noopener noreferrer"},"Blog")),a.isLoggedIn&&n.a.createElement(n.a.Fragment,null,n.a.createElement("li",null,n.a.createElement(o.c,{to:"/dashboard"},"Crop Diagnoses")),n.a.createElement("li",null,n.a.createElement(o.c,{to:"/table"},"Sensors Data")),n.a.createElement("li",null,n.a.createElement(o.c,{to:"/add"},"Add Data Record"))),!a.isLoggedIn&&n.a.createElement("li",null,n.a.createElement(o.c,{to:"/auth"},"Login/Register")),a.isLoggedIn&&n.a.createElement("li",null,n.a.createElement("button",{onClick:function(){console.log(t),a.logout(),t.push("/auth")}},"Logout")))}),$=(a(107),function(e){return n.a.createElement("aside",{className:"side-drawer",onClick:e.closed},e.children)}),G=(a(108),a(51)),V=a.n(G),Z=function(e){var t=["SideDrawer","Close"],a=Object(r.useState)(!1),l=Object(c.a)(a,2),s=l[0],i=l[1];s&&(t=["SideDrawer","Open"]);var m=function(){i(!1)};return n.a.createElement(n.a.Fragment,null,s&&n.a.createElement(W,{onClick:m}),n.a.createElement("div",{className:t.join(" ")},n.a.createElement($,{open:s,closed:m},n.a.createElement("h3",{className:"text-left mt-2 pl-4"},"AFMS"),n.a.createElement("hr",null),n.a.createElement("nav",{className:"main-navigation__drawer-nav"},n.a.createElement("img",{src:V.a,alt:"logo"}),n.a.createElement("div",{className:"mobile"},n.a.createElement(q,null)),n.a.createElement(Y,null)))),n.a.createElement(J,null,n.a.createElement("button",{className:"main-navigation__menu-btn",onClick:function(){i(!0)}},n.a.createElement("span",null),n.a.createElement("span",null),n.a.createElement("span",null)),n.a.createElement("h1",{className:"main-navigation__title"},n.a.createElement(o.b,{style:{fontFamily:"Agustina Regular"},to:"/"},"AFMS")),n.a.createElement("nav",{className:"main-navigation__header-nav"},n.a.createElement(Y,null))))},K=a(122),Q=function(e){Object(E.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(p.a)(this,a);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={selectedFile:null,result:""},e.onFileChange=function(t){e.setState({selectedFile:t.target.files[0]})},e.onFileUpload=function(){var t=new FormData;t.append("image",e.state.selectedFile,e.state.selectedFile.name),console.log(e.state.selectedFile),u.a.post("https://ml-plant.azurewebsites.net/predict",t).then((function(t){e.setState({result:t.data})}))},e.fileData=function(){return e.state.selectedFile?n.a.createElement("div",null,n.a.createElement("h2",null,"File Details:"),n.a.createElement("p",null,"File Name: ",e.state.selectedFile.name),n.a.createElement("p",null,"File Type: ",e.state.selectedFile.type),n.a.createElement("p",null,"Last Modified:"," ",e.state.selectedFile.lastModifiedDate.toDateString())):n.a.createElement("div",null,n.a.createElement("br",null),n.a.createElement("h4",null,"Choose before Pressing the Upload button"))},e}return Object(g.a)(a,[{key:"render",value:function(){return n.a.createElement(K.a,null,n.a.createElement("div",null,n.a.createElement("h1",null,"Potato Blight Check"),n.a.createElement("h3",null,"Please, Upload Potato picture!"),n.a.createElement("div",null,n.a.createElement("input",{type:"file",onChange:this.onFileChange}),n.a.createElement("button",{onClick:this.onFileUpload},"Upload!")),this.fileData(),n.a.createElement("br",null),n.a.createElement("h3",null,"Result = ",this.state.result)))}}]),a}(r.Component),X=a(121),ee=a(53),te=(a(112),a(113),function(e){Object(E.a)(a,e);var t=Object(f.a)(a);function a(e){var r;return Object(p.a)(this,a),(r=t.call(this,e)).mySubmitHandler=function(e){r.setState((function(e){return{isloading:!0}})),e.preventDefault(),v(r.state.errors),u.a.put("/table/"+r.props.text._id.toString(),r.state.data).then((function(e){return r.setState((function(e){return{isloading:!1}})),window.location.reload(!1),"success"})).catch((function(e){r.setState({isloading:!1,error:Object(h.a)(Object(h.a)({},r.state.error),{},{message:e.response.data.message,code:e.response.status})})})),r.setState({data:Object(h.a)(Object(h.a)({},r.state.data),{},{LDR:"",temp:"",hum:"",ph:"",device_number:""})})},r.myChangeHandler=function(e){var t=e.target.name,a=e.target.value,n=r.state.errors,l=e.target,s=l.name,c=l.value;switch(s){case"LDR":if(0===c.length){n.LDR=c.length<0?"LDR is Required!":"";break}break;case"temp":if(0===c.length){n.temp=c.length<0?"temp is Required!":"";break}break;case"hum":if(0===c.length){n.hum=c.length<0?"hum is Required!":"";break}break;case"ph":if(0===c.length){n.ph=c.length<0?"ph is Required!":"";break}break;case"device_number":if(0===c.length){n.device_number=c.length<0?"device_number is Required!":"";break}}r.setState({errors:n,data:Object(h.a)(Object(h.a)({},r.state.data),{},Object(d.a)({},t,a))},(function(){}))},r.state={data:{LDR:r.props.text.LDR,temp:r.props.text.temp,hum:r.props.text.hum,ph:r.props.text.ph,device_number:r.props.text.device_number},error:{message:"",code:""},isloading:!1,errors:{LDR:"",temp:"",hum:"",ph:"",device_number:""}},r}return Object(g.a)(a,[{key:"isNumeric",value:function(e){return/^-?\d+$/.test(e)}},{key:"render",value:function(){var e,t;return this.state.isloading&&(e=n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"container loading"},n.a.createElement("div",{className:"mar-20"},n.a.createElement(k,null))))),this.state.error.code&&(t=n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"container error container-short"},n.a.createElement("div",{className:"mar-20"},n.a.createElement("h5",null,"Error Code - ",this.state.error.code),n.a.createElement("h4",null,"Error Message - ",this.state.error.message))))),n.a.createElement(n.a.Fragment,null,e,t,n.a.createElement("div",{className:"popup_inner"},n.a.createElement("div",{className:"popup_inner"},n.a.createElement("h1",null,"Edit Data"),n.a.createElement("hr",null),n.a.createElement("form",{onSubmit:this.mySubmitHandler,className:"pt-4"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"LDR"},"LDR "),n.a.createElement("input",{type:"text",name:"LDR",value:this.state.data.LDR,className:"form-control "+(this.state.errors.LDR?"is-invalid":""),placeholder:"Enter LDR",required:!0,onChange:this.myChangeHandler}),this.state.errors.LDR.length>0&&n.a.createElement("div",{className:"mt-1"},n.a.createElement("span",{className:"error text-danger"},this.state.errors.LDR))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"temp"},"temp "),n.a.createElement("input",{type:"text",name:"temp",value:this.state.data.temp,className:"form-control "+(this.state.errors.temp?"is-invalid":""),placeholder:"Enter temp",required:!0,onChange:this.myChangeHandler}),this.state.errors.temp.length>0&&n.a.createElement("div",{className:"mt-1"},n.a.createElement("span",{className:"error text-danger"},this.state.errors.temp))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"hum"},"hum "),n.a.createElement("input",{type:"text",name:"hum",value:this.state.data.hum,className:"form-control "+(this.state.errors.hum?"is-invalid":""),placeholder:"Enter hum",required:!0,onChange:this.myChangeHandler}),this.state.errors.hum.length>0&&n.a.createElement("div",{className:"mt-1"},n.a.createElement("span",{className:"error text-danger"},this.state.errors.hum))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"ph"},"ph "),n.a.createElement("input",{type:"text",name:"ph",value:this.state.data.ph,className:"form-control "+(this.state.errors.ph?"is-invalid":""),placeholder:"Enter ph",required:!0,onChange:this.myChangeHandler}),this.state.errors.ph.length>0&&n.a.createElement("div",{className:"mt-1"},n.a.createElement("span",{className:"error text-danger"},this.state.errors.ph))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"ph"},"device_number "),n.a.createElement("input",{type:"text",name:"device_number",value:this.state.data.device_number,className:"form-control "+(this.state.errors.device_number?"is-invalid":""),placeholder:"Enter device_number",required:!0,onChange:this.myChangeHandler}),this.state.errors.device_number.length>0&&n.a.createElement("div",{className:"mt-1"},n.a.createElement("span",{className:"error text-danger"},this.state.errors.device_number))),n.a.createElement("div",{className:"form-group"},n.a.createElement("button",{style:{marginRight:"15px"},type:"submit",className:"btn btn-success",disabled:this.isNumeric(this.state.data.LDR)&&this.isNumeric(this.state.data.ph)&&this.isNumeric(this.state.data.temp)&&this.isNumeric(this.state.data.hum)&&this.isNumeric(this.state.data.device_number)&&v(this.state.errors)?"":"disabled"},"Edit Data"),n.a.createElement("button",{style:{marginRight:"15px"},className:"btn btn-success",onClick:this.props.closePopup},"Cancel"))))))}}]),a}(n.a.Component)),ae=function(e){Object(E.a)(a,e);var t=Object(f.a)(a);function a(){var e;return Object(p.a)(this,a),(e=t.call(this)).togglePopup=function(t,a){t.preventDefault(),u.a.get("/table/"+a.toString()).then((function(t){return e.setState({showPopup:!e.state.showPopup,output_data:t.data}),"success"})).catch((function(e){return"error"}))},e.mySubmitHandler=function(e,t){e.preventDefault(),!0===window.confirm("Do you really want to delete this record?")&&u.a.delete("/table/"+t.toString()).then((function(e){return window.location.reload(!1),"success"})).catch((function(e){return"error"}))},e.state={data:[],showPopup:!1,output_data:{}},e}return Object(g.a)(a,[{key:"togglePopup1",value:function(){this.setState({showPopup:!this.state.showPopup})}},{key:"componentWillMount",value:function(){var e=this;fetch("https://afmsbackend.herokuapp.com/api/table").then((function(t){t.json().then((function(t){e.setState({data:t}),console.log(t)}))}))}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{style:{"margin-top":"20px"}},n.a.createElement(K.a,null,n.a.createElement("h1",{style:{"text-align":"center",marginBottom:"25px",marginTop:"30px"}},"Sensors Data"),n.a.createElement(X.a,{bordered:!0,striped:!0,hover:!0,className:"container"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Time Stamp "),n.a.createElement("th",null,"LDR"),n.a.createElement("th",null,"Hummidty"),n.a.createElement("th",null,"PH"),n.a.createElement("th",null,"Temprature"),n.a.createElement("th",null,"Device"))),n.a.createElement("tbody",null,this.state.data.map((function(e,t){return n.a.createElement("tr",{key:t},n.a.createElement("td",null,e.creation_time),n.a.createElement("td",null,e.LDR),n.a.createElement("td",null,e.hum),n.a.createElement("td",null,e.ph),n.a.createElement("td",null,e.temp),n.a.createElement("td",null,e.device_number))})))),n.a.createElement(ee.CSVLink,{data:this.state.data},"Download me"),this.state.showPopup?n.a.createElement(te,{text:this.state.output_data,closePopup:this.togglePopup1.bind(this)}):null)))}}]),a}(r.Component),re=(a(114),function(e){Object(E.a)(a,e);var t=Object(f.a)(a);function a(e){var r;return Object(p.a)(this,a),(r=t.call(this,e)).mySubmitHandler=function(e){r.setState((function(e){return{isloading:!0}})),e.preventDefault(),v(r.state.errors),u.a.post("/table",r.state.data).then((function(e){return r.setState((function(e){return{isloading:!1}})),r.props.history.push("/table"),"success"})).catch((function(e){r.setState({isloading:!1,error:Object(h.a)(Object(h.a)({},r.state.error),{},{message:e.response.data.message,code:e.response.status})})})),r.setState({data:Object(h.a)(Object(h.a)({},r.state.data),{},{LDR:"",temp:"",hum:"",ph:"",device_number:""})})},r.myChangeHandler=function(e){var t=e.target.name,a=e.target.value,n=r.state.errors,l=e.target,s=l.name,c=l.value;switch(s){case"LDR":if(0===c.length){n.LDR=c.length<5?"LDR is Required!":"";break}break;case"temp":if(0===c.length){n.temp=c.length<5?"temp is Required!":"";break}break;case"hum":if(0===c.length){n.hum=c.length<5?"hum is Required!":"";break}break;case"ph":if(0===c.length){n.ph=c.length<5?"ph is Required!":"";break}break;case"device_number":if(0===c.length){n.device_number=c.length<5?"device_number is Required!":"";break}}r.setState({errors:n,data:Object(h.a)(Object(h.a)({},r.state.data),{},Object(d.a)({},t,a))},(function(){}))},r.state={data:{LDR:"",temp:"",hum:"",ph:"",device_number:""},error:{message:"",code:""},isloading:!1,errors:{LDR:"",temp:"",hum:"",ph:"",device_number:""}},r}return Object(g.a)(a,[{key:"isNumeric",value:function(e){return/^-?\d+$/.test(e)}},{key:"render",value:function(){var e,t;return this.state.isloading&&(e=n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"container loading"},n.a.createElement("div",{className:"mar-20"},n.a.createElement(k,null))))),this.state.error.code&&(t=n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"container error container-short"},n.a.createElement("div",{className:"mar-20"},n.a.createElement("h5",null,"Error Code - ",this.state.error.code),n.a.createElement("h4",null,"Error Message - ",this.state.error.message))))),n.a.createElement(n.a.Fragment,null,e,t,n.a.createElement("div",{className:"container container-short py-5"},n.a.createElement("h1",{className:"pt-2 py-2"},"Add Data"),n.a.createElement("hr",null),n.a.createElement("form",{onSubmit:this.mySubmitHandler,className:"pt-4"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"LDR"},"LDR "),n.a.createElement("input",{type:"text",name:"LDR",value:this.state.data.LDR,className:"form-control "+(this.state.errors.LDR?"is-invalid":""),placeholder:"Enter LDR",required:!0,onChange:this.myChangeHandler}),this.state.errors.LDR.length>0&&n.a.createElement("div",{className:"mt-1"},n.a.createElement("span",{className:"error text-danger"},this.state.errors.LDR))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"temp"},"temp "),n.a.createElement("input",{type:"text",name:"temp",value:this.state.data.temp,className:"form-control "+(this.state.errors.temp?"is-invalid":""),placeholder:"Enter temp",required:!0,onChange:this.myChangeHandler}),this.state.errors.temp.length>0&&n.a.createElement("div",{className:"mt-1"},n.a.createElement("span",{className:"error text-danger"},this.state.errors.temp))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"hum"},"hum "),n.a.createElement("input",{type:"text",name:"hum",value:this.state.data.hum,className:"form-control "+(this.state.errors.hum?"is-invalid":""),placeholder:"Enter hum",required:!0,onChange:this.myChangeHandler}),this.state.errors.hum.length>0&&n.a.createElement("div",{className:"mt-1"},n.a.createElement("span",{className:"error text-danger"},this.state.errors.hum))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"ph"},"ph "),n.a.createElement("input",{type:"text",name:"ph",value:this.state.data.ph,className:"form-control "+(this.state.errors.ph?"is-invalid":""),placeholder:"Enter ph",required:!0,onChange:this.myChangeHandler}),this.state.errors.ph.length>0&&n.a.createElement("div",{className:"mt-1"},n.a.createElement("span",{className:"error text-danger"},this.state.errors.ph))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"ph"},"device_number "),n.a.createElement("input",{type:"text",name:"device_number",value:this.state.data.device_number,className:"form-control "+(this.state.errors.device_number?"is-invalid":""),placeholder:"Enter device_number",required:!0,onChange:this.myChangeHandler}),this.state.errors.device_number.length>0&&n.a.createElement("div",{className:"mt-1"},n.a.createElement("span",{className:"error text-danger"},this.state.errors.device_number))),n.a.createElement("div",{className:"form-group"},n.a.createElement("button",{style:{marginRight:"15px"},type:"submit",className:"btn btn-success",disabled:this.isNumeric(this.state.data.LDR)&&this.isNumeric(this.state.data.ph)&&this.isNumeric(this.state.data.temp)&&this.isNumeric(this.state.data.hum)&&this.isNumeric(this.state.data.device_number)&&v(this.state.errors)?"":"disabled"},"Add Data")))))}}]),a}(r.Component));a(115);var ne,le=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"footer-icon-sidebar"},n.a.createElement("ul",{className:"navbar-nav"},n.a.createElement("li",{className:"nav-item inline-block"},n.a.createElement("a",{href:"https://www.facebook.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",className:"nav-link"},n.a.createElement("i",{className:"fa fa-facebook"}))),n.a.createElement("li",{className:"nav-item inline-block"},n.a.createElement("a",{href:"https://www.instagram.com","aria-label":"Insagram",target:"_blank",rel:"noopener noreferrer",className:"nav-link"},n.a.createElement("i",{className:"fa fa-instagram"}))),n.a.createElement("li",{className:"nav-item inline-block"},n.a.createElement("a",{href:"https://www.linkedin.com",target:"_blank",rel:"noopener noreferrer","aria-label":"LinkedIn",className:"nav-link"},n.a.createElement("i",{className:"fa fa-linkedin"}))))))},se=function(e){var t,a,l=Object(r.useState)(!1),s=Object(c.a)(l,2),m=s[0],d=s[1],h=Object(r.useState)(),p=Object(c.a)(h,2),g=p[0],E=p[1],f=Object(r.useState)(!1),v=Object(c.a)(f,2),b=v[0],N=v[1],y=Object(r.useState)(!0),x=Object(c.a)(y,2),O=x[0],j=x[1],D=Object(r.useCallback)((function(e,t,a){d(t),N(e),j(!1);var r=a||new Date((new Date).getTime()+36e5);E(r),localStorage.setItem("userData",JSON.stringify({userId:e,token:t,expiration:r.toISOString()})),u.a.defaults.headers.common.Authorization="Bearer ".concat(t)}),[]),C=Object(r.useCallback)((function(){d(null),E(null),N(null),localStorage.removeItem("userData");u.a.defaults.headers.common.Authorization="Bearer ".concat(null)}),[]);return Object(r.useEffect)((function(){if(m&&g){var e=g.getTime()-(new Date).getTime();ne=setTimeout(C,e)}else clearTimeout(ne)}),[m,C,g]),Object(r.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userData"));j(!1),e&&e.token&&new Date(e.expiration)>new Date&&D(e.userId,e.token,new Date(e.expiration))}),[D]),O?a=n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"container loading"},n.a.createElement("div",{className:"mar-20"},n.a.createElement(k,null)))):t=n.a.createElement(n.a.Fragment,null,m?n.a.createElement(i.b,{path:"/dashboard",exact:!0,component:Q}):n.a.createElement(i.a,{to:"/auth"}),m?n.a.createElement(i.b,{path:"/table",exact:!0,component:ae}):n.a.createElement(i.a,{to:"/auth"}),m?n.a.createElement(i.b,{path:"/add",exact:!0,component:re}):n.a.createElement(i.a,{to:"/auth"})),n.a.createElement(w.Provider,{value:{isLoggedIn:!!m,token:m,userId:b,login:D,logout:C}},n.a.createElement("div",{className:"App"},n.a.createElement("main",null,n.a.createElement(o.a,null,n.a.createElement(Z,null),n.a.createElement(i.d,null,n.a.createElement(i.b,{path:"/auth",component:S,exact:!0}),n.a.createElement(i.b,{path:"/",component:z,exact:!0}),t)),n.a.createElement(le,null)),a))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(116),a(117),a(118);u.a.defaults.baseURL="https://afmsbackend.herokuapp.com/api";var ce,ie=JSON.parse(localStorage.getItem("userData"));ie&&(ce=ie.token),u.a.defaults.headers.common.Authorization="Bearer ".concat(ce),u.a.defaults.headers.post["Content-Type"]="application/json",u.a.defaults.headers.post["Access-Control-Allow-Origin"]="*",u.a.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),u.a.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)})),s.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(se,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},23:function(e,t,a){e.exports=a.p+"static/media/logo.e760f07c.svg"},44:function(e,t,a){e.exports=a.p+"static/media/7.03760d16.png"},45:function(e,t,a){e.exports=a.p+"static/media/link2.c137737e.svg"},46:function(e,t,a){e.exports=a.p+"static/media/cloud.d414eba1.svg"},47:function(e,t,a){e.exports=a.p+"static/media/features.af8c475e.svg"},48:function(e,t,a){e.exports=a.p+"static/media/heart.25ebc111.svg"},49:function(e,t,a){e.exports=a.p+"static/media/person.cce84455.svg"},51:function(e,t,a){e.exports=a.p+"static/media/asset-1.171cd5d9.png"},68:function(e,t,a){e.exports=a(119)},73:function(e,t,a){},74:function(e,t,a){},93:function(e,t,a){}},[[68,1,2]]]);
//# sourceMappingURL=main.b12ae25f.chunk.js.map